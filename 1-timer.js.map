{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst input = document.querySelector(\"#datetime-picker\");\nconst btn = document.querySelector(\"button[data-start]\");\nconst daysId = document.querySelector(\"span[data-days]\");\nconst hoursId = document.querySelector(\"span[data-hours]\");\nconst minsId = document.querySelector(\"span[data-minutes]\");\nconst secsId = document.querySelector(\"span[data-seconds]\");\n\nlet userDate = null;\nbtn.disabled = true;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    const selectedDate = selectedDates[0];\n    if (selectedDate > new Date()) {\n        btn.disabled = false;\n        userDate = selectedDate;\n    }\n    else {\n        btn.disabled = true;\n        iziToast.error({\n            title: 'Error',\n            message: \"Please choose a date in the future\",\n            position: 'topRight',\n        });\n    };\n  },\n};\n\nflatpickr(\"#datetime-picker\", options);\n\n\nbtn.addEventListener(\"click\", handleClick);\n\nfunction handleClick(event) {\n    btn.disabled = true;\n    input.disabled = true;\n    if (userDate === null) {\n        return\n    };\n\n    const timerId = setInterval(() => {\n        let currentTime = new Date();\n        const deltaTime = userDate - currentTime;\n\n        if (deltaTime <= 0) {\n            clearInterval(timerId);\n            daysId.textContent = '00';\n            hoursId.textContent = '00';\n            minsId.textContent = '00';\n            secsId.textContent = '00';\n            input.disabled = false;\n        };\n\n        const timer = convertMs(deltaTime);\n\n        daysId.textContent = addLeadingZero(timer.days);\n        hoursId.textContent = addLeadingZero(timer.hours);\n        minsId.textContent = addLeadingZero(timer.minutes);\n        secsId.textContent = addLeadingZero(timer.seconds);\n\n    }, 1000); \n};\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n};\n\n\nfunction addLeadingZero(value) {\n    return String(value).padStart(2, \"0\")\n};\n\n\n\n"],"names":["input","btn","daysId","hoursId","minsId","secsId","userDate","options","selectedDates","selectedDate","iziToast","flatpickr","handleClick","event","timerId","deltaTime","timer","convertMs","addLeadingZero","ms","days","hours","minutes","seconds","value"],"mappings":"+IAOA,MAAMA,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAM,SAAS,cAAc,oBAAoB,EACjDC,EAAS,SAAS,cAAc,iBAAiB,EACjDC,EAAU,SAAS,cAAc,kBAAkB,EACnDC,EAAS,SAAS,cAAc,oBAAoB,EACpDC,EAAS,SAAS,cAAc,oBAAoB,EAE1D,IAAIC,EAAW,KACfL,EAAI,SAAW,GAEf,MAAMM,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,MAAMC,EAAeD,EAAc,CAAC,EAChCC,EAAe,IAAI,MACnBR,EAAI,SAAW,GACfK,EAAWG,IAGXR,EAAI,SAAW,GACfS,EAAS,MAAM,CACX,MAAO,QACP,QAAS,qCACT,SAAU,UACtB,CAAS,EAEN,CACH,EAEAC,EAAU,mBAAoBJ,CAAO,EAGrCN,EAAI,iBAAiB,QAASW,CAAW,EAEzC,SAASA,EAAYC,EAAO,CAGxB,GAFAZ,EAAI,SAAW,GACfD,EAAM,SAAW,GACbM,IAAa,KACb,OAGJ,MAAMQ,EAAU,YAAY,IAAM,CAE9B,MAAMC,EAAYT,EADA,IAAI,KAGlBS,GAAa,IACb,cAAcD,CAAO,EACrBZ,EAAO,YAAc,KACrBC,EAAQ,YAAc,KACtBC,EAAO,YAAc,KACrBC,EAAO,YAAc,KACrBL,EAAM,SAAW,IAGrB,MAAMgB,EAAQC,EAAUF,CAAS,EAEjCb,EAAO,YAAcgB,EAAeF,EAAM,IAAI,EAC9Cb,EAAQ,YAAce,EAAeF,EAAM,KAAK,EAChDZ,EAAO,YAAcc,EAAeF,EAAM,OAAO,EACjDX,EAAO,YAAca,EAAeF,EAAM,OAAO,CAEpD,EAAE,GAAI,CACX,CAEA,SAASC,EAAUE,EAAI,CAMrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAC1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EACpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EACjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAGA,SAASL,EAAeM,EAAO,CAC3B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACxC"}